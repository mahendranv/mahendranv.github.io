<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="Get productive with GraphQL — Type Adapters" /><meta property="og:locale" content="en" /><meta name="description" content="GraphQL can take care of code-gen. But, how do I tell my date format to GraphQL?" /><meta property="og:description" content="GraphQL can take care of code-gen. But, how do I tell my date format to GraphQL?" /><link rel="canonical" href="https://mahendranv.github.io/posts/graphql-date-conversion/" /><meta property="og:url" content="https://mahendranv.github.io/posts/graphql-date-conversion/" /><meta property="og:site_name" content="Mahendran" /><meta property="og:image" content="https://mahendranv.github.io/assets/covers/gql_adapter.jpg" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-05-16T00:00:00+05:30" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://mahendranv.github.io/assets/covers/gql_adapter.jpg" /><meta property="twitter:title" content="Get productive with GraphQL — Type Adapters" /><meta name="twitter:site" content="@mahevelai" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"image":"https://mahendranv.github.io/assets/covers/gql_adapter.jpg","headline":"Get productive with GraphQL — Type Adapters","dateModified":"2021-06-02T22:38:30+05:30","datePublished":"2021-05-16T00:00:00+05:30","description":"GraphQL can take care of code-gen. But, how do I tell my date format to GraphQL?","url":"https://mahendranv.github.io/posts/graphql-date-conversion/","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://mahendranv.github.io/posts/graphql-date-conversion/"},"@context":"https://schema.org"}</script><title>Get productive with GraphQL — Type Adapters | Mahendran</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Mahendran"><meta name="application-name" content="Mahendran"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/614333/01be055d-c668-46ba-8f7b-54065256c70d.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Mahendran</a></div><div class="site-subtitle font-italic">Android | Kotlin | Springboot | DGS</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/series/" class="nav-link"> <i class="fa-fw fas fas fa-list-ol ml-xl-3 mr-xl-3 unloaded"></i> <span>SERIES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/mahendranv" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/mahevelai" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href="https://dev.to/mahendranv" aria-label="dev.to" class="order-5" target="_blank" rel="noopener"> <i class="fab fa-dev"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Get productive with GraphQL — Type Adapters</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Get productive with GraphQL — Type Adapters</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Mahendran Vadivalagan </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sun, May 16, 2021, 12:00 AM +0530" >May 16<i class="unloaded">2021-05-16T00:00:00+05:30</i> </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Wed, Jun 2, 2021, 10:38 PM +0530" >Jun 2<i class="unloaded">2021-06-02T22:38:30+05:30</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1442 words">8 min read</span></div></div><div class="post-content"><p>One of the demanding features in any serializer-deserializer is the ability to convert data to user defined format. GraphQL is smart enough to generate classes &amp; parsers for your primitive / nested objects. However, there are cases where GQL cannot determine what to do with a field. In such cases, we can lend a hand and get type safe fields in return.</p><p>Usecase taken for this post is <code class="language-plaintext highlighter-rouge">timestamp</code> – It’s string by transmission but we need it as Date object. We’ll peek though the schema &amp; query files that drives the codegen and get it to bend for our need.</p><p>I covered the code generation part for clarity before the implementation. For the implementation, skip to <a href="#how-do-i-translate-timestamp-to-date-object-"> the how to section</a>.</p><p><img data-proofer-ignore data-src="https://user-images.githubusercontent.com/6584143/118398586-e8057500-b676-11eb-9d9d-5265513422f1.png" alt="image" /></p><ul id="markdown-toc"><li><a href="#pre-requisite" id="markdown-toc-pre-requisite">Pre-requisite</a><li><a href="#data-types-in-graphql" id="markdown-toc-data-types-in-graphql">Data types in GraphQL</a><li><a href="#peek-to-the-schema" id="markdown-toc-peek-to-the-schema">Peek to the schema</a><li><a href="#how-codegen-handles-custom-scalars" id="markdown-toc-how-codegen-handles-custom-scalars">How codegen handles custom scalars?</a><li><a href="#how-do-i-translate-timestamp-to-date-object-" id="markdown-toc-how-do-i-translate-timestamp-to-date-object-">How do I translate <code class="language-plaintext highlighter-rouge">timestamp</code> to Date object? <a name="implementation"></a></a><ul><li><a href="#1-choosing-concrete-type-for-custom-scalar---threetenbp-lib" id="markdown-toc-1-choosing-concrete-type-for-custom-scalar---threetenbp-lib">1. Choosing concrete type for custom scalar - [threetenbp lib]</a><li><a href="#2-code-gen-changes---apollo-compile-time-setup-to-map-timestamp" id="markdown-toc-2-code-gen-changes---apollo-compile-time-setup-to-map-timestamp">2. Code-gen changes - Apollo compile time setup to map timestamp</a><li><a href="#3-apollo-runtime-setup-for-parsing-date" id="markdown-toc-3-apollo-runtime-setup-for-parsing-date">3. Apollo runtime setup for parsing date</a></ul><li><a href="#gist" id="markdown-toc-gist">Gist</a><li><a href="#endnote" id="markdown-toc-endnote">Endnote</a></ul><hr /><h2 id="pre-requisite">Pre-requisite</h2><p>Basic understanding of what is GraphQL. Having a working GraphQL android codebase is even better. Read <a href="https://dev.to/mahendranv/android-api-calls-to-graphql-server-49a1">this</a> for setting up the <em>ApolloClient</em> and how to write query for a given schema. Also, Apollo has a <a href="https://www.apollographql.com/docs/android/essentials/get-started-kotlin/">quick guide</a> to get started with GraphQL.</p><hr /><h2 id="data-types-in-graphql">Data types in GraphQL</h2><p>A GraphQL query is made of nodes and leaves (referred as <code class="language-plaintext highlighter-rouge">scalars</code>) too often. There are default scalars defined in system as such, <code class="language-plaintext highlighter-rouge">Int, Float, String &amp; Boolean</code>. However like in our case, backend can mark fields as custom scalars to expect client side processing.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>// File: "queries.graphql"

expenses {         ## node
    id
    amount
    remarks
    is_income
    created_at     ## Custom scalar
}
</pre></table></code></div></div><p>Here in the above query we have <code class="language-plaintext highlighter-rouge">created_at</code> maked with <code class="language-plaintext highlighter-rouge">timestamptz</code>. Let’s scan through schema.json for how it looks.</p><hr /><h2 id="peek-to-the-schema">Peek to the schema</h2><div class="language-json highlighter-rouge"><div class="code-header"> <span text-data=" Json "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
</pre><td class="rouge-code"><pre><span class="err">//</span><span class="w"> </span><span class="err">Example</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">default</span><span class="w"> </span><span class="err">scalar</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"isDeprecated"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deprecationReason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"remarks"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NON_NULL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ofType"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SCALAR"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"String"</span><span class="p">,</span><span class="w">   </span><span class="err">//</span><span class="w"> </span><span class="err">Known</span><span class="w"> </span><span class="err">date</span><span class="w"> </span><span class="err">type</span><span class="w">
            </span><span class="nl">"ofType"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Where the money went"</span><span class="w">
</span><span class="p">}</span><span class="err">,</span><span class="w">

</span><span class="err">//</span><span class="w"> </span><span class="err">Example</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">custom</span><span class="w"> </span><span class="err">scalar</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"created_at"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NON_NULL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ofType"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SCALAR"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"timestamptz"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ofType"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Created timestamp"</span><span class="w">
</span><span class="p">}</span><span class="err">,</span><span class="w">
</span></pre></table></code></div></div><p>As we can see, the timestamp cannot fall into a known scalar platform specific implementation for below reasons</p><ol><li>The plugin just don’t know what’s the date format is. There is no single format universally agreed for DateTime communication. Moreover, it can be just date or time. So it’s up to the dev to decide on this.<li>Plenty of options out there when it comes to Date and time. Based on personal preference, one can go for Jave Date, Calendar, DateTime, Joda(don’t use this), three-ten-bp or kotlinx datetime Api.</ol><hr /><h2 id="how-codegen-handles-custom-scalars">How codegen handles custom scalars?</h2><p>Apollo generates an enum to book-keep the custom scalars. It maps the scalar name to corresponding (fully qualified) type name known in the platform. Without any type adapters, it look like this.</p><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span text-data=" Kotlin "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="c1">// File: "CustomTypes.kt"</span>

<span class="k">import</span> <span class="nn">com.apollographql.apollo.api.ScalarType</span>
<span class="k">import</span> <span class="nn">kotlin.String</span>

<span class="k">enum</span> <span class="kd">class</span> <span class="nc">CustomType</span> <span class="p">:</span> <span class="nc">ScalarType</span> <span class="p">{</span>

  <span class="nc">TIMESTAMPTZ</span> <span class="p">{</span>
    <span class="k">override</span> <span class="k">fun</span> <span class="nf">typeName</span><span class="p">():</span> <span class="nc">String</span> <span class="p">=</span> <span class="s">"timestamptz"</span>

    <span class="k">override</span> <span class="k">fun</span> <span class="nf">className</span><span class="p">():</span> <span class="nc">String</span> <span class="p">=</span> <span class="s">"kotlin.Any"</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p>Generated class for Expense node look like this. Currently the <code class="language-plaintext highlighter-rouge">created_at</code> is of type <code class="language-plaintext highlighter-rouge">Any</code>, waiting for us to make it concrete. Scaning through the the file, you’ll find where it is serialized and deserialized.</p><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span text-data=" Kotlin "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
</pre><td class="rouge-code"><pre><span class="c1">// File: "Expenses.kt"</span>

<span class="kd">data class</span> <span class="nc">Expense</span><span class="p">(</span>
    <span class="kd">val</span> <span class="py">__typename</span><span class="p">:</span> <span class="nc">String</span> <span class="p">=</span> <span class="s">"expenses"</span><span class="p">,</span>
    <span class="kd">val</span> <span class="py">id</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span>
    <span class="kd">val</span> <span class="py">amount</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span>
    <span class="kd">val</span> <span class="py">remarks</span><span class="p">:</span> <span class="nc">String</span><span class="p">,</span>
    <span class="kd">val</span> <span class="py">is_income</span><span class="p">:</span> <span class="nc">Boolean</span><span class="p">,</span>
    <span class="kd">val</span> <span class="py">created_at</span><span class="p">:</span> <span class="nc">Any</span>
  <span class="p">)</span> <span class="p">{</span>
    <span class="k">fun</span> <span class="nf">marshaller</span><span class="p">():</span> <span class="nc">ResponseFieldMarshaller</span> <span class="p">=</span> <span class="nc">ResponseFieldMarshaller</span><span class="p">.</span><span class="nf">invoke</span> <span class="p">{</span> <span class="n">writer</span> <span class="p">-&gt;</span>
			<span class="o">..</span><span class="p">.</span>
      <span class="n">writer</span><span class="p">.</span><span class="nf">writeString</span><span class="p">(</span><span class="nc">RESPONSE_FIELDS</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="k">this</span><span class="nd">@Expense</span><span class="p">.</span><span class="n">remarks</span><span class="p">)</span>
			<span class="o">..</span><span class="p">.</span>
      <span class="c1">// Serializing cusom fields here                                                                          </span>
      <span class="n">writer</span><span class="p">.</span><span class="nf">writeCustom</span><span class="p">(</span><span class="nc">RESPONSE_FIELDS</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="k">as</span> <span class="nc">ResponseField</span><span class="p">.</span><span class="nc">CustomTypeField</span><span class="p">,</span>
          <span class="k">this</span><span class="nd">@Expense</span><span class="p">.</span><span class="n">created_at</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="k">companion</span> <span class="k">object</span> <span class="p">{</span>
      <span class="k">private</span> <span class="kd">val</span> <span class="py">RESPONSE_FIELDS</span><span class="p">:</span> <span class="nc">Array</span><span class="p">&lt;</span><span class="nc">ResponseField</span><span class="p">&gt;</span> <span class="p">=</span> <span class="nf">arrayOf</span><span class="p">(</span>
          <span class="o">..</span><span class="p">.</span>
          <span class="nc">ResponseField</span><span class="p">.</span><span class="nf">forString</span><span class="p">(</span><span class="s">"remarks"</span><span class="p">,</span> <span class="s">"remarks"</span><span class="p">,</span> <span class="k">null</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="k">null</span><span class="p">),</span>
					<span class="o">..</span><span class="p">.</span>
 
          <span class="c1">// Definition of custom response field</span>
          <span class="nc">ResponseField</span><span class="p">.</span><span class="nf">forCustomType</span><span class="p">(</span><span class="s">"created_at"</span><span class="p">,</span> <span class="s">"created_at"</span><span class="p">,</span> <span class="k">null</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span>
              <span class="nc">CustomType</span><span class="p">.</span><span class="nc">TIMESTAMPTZ</span><span class="p">,</span> <span class="k">null</span><span class="p">)</span>
          <span class="p">)</span>

      <span class="k">operator</span> <span class="k">fun</span> <span class="nf">invoke</span><span class="p">(</span><span class="n">reader</span><span class="p">:</span> <span class="nc">ResponseReader</span><span class="p">):</span> <span class="nc">Expense</span> <span class="p">=</span> <span class="n">reader</span><span class="p">.</span><span class="nf">run</span> <span class="p">{</span>
        <span class="o">..</span><span class="p">.</span>
        <span class="kd">val</span> <span class="py">remarks</span> <span class="p">=</span> <span class="nf">readString</span><span class="p">(</span><span class="nc">RESPONSE_FIELDS</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span><span class="o">!!</span>
        <span class="kd">val</span> <span class="py">is_income</span> <span class="p">=</span> <span class="nf">readBoolean</span><span class="p">(</span><span class="nc">RESPONSE_FIELDS</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span><span class="o">!!</span>
        <span class="c1">// De-Serializing the field here</span>
        <span class="kd">val</span> <span class="py">created_at</span> <span class="p">=</span> <span class="n">readCustomType</span><span class="p">&lt;</span><span class="nc">Any</span><span class="p">&gt;(</span><span class="nc">RESPONSE_FIELDS</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="k">as</span> <span class="nc">ResponseField</span><span class="p">.</span><span class="nc">CustomTypeField</span><span class="p">)</span><span class="o">!!</span>
        <span class="nc">Expense</span><span class="p">(</span>
					<span class="o">..</span><span class="p">.</span>
        <span class="p">)</span>
      <span class="p">}</span>
      <span class="o">..</span><span class="p">.</span>
    <span class="p">}</span>
  <span class="p">}</span>
</pre></table></code></div></div><p>Though, on surface <code class="language-plaintext highlighter-rouge">created_on</code> marked as <code class="language-plaintext highlighter-rouge">Any</code> field, under the hood it leaves markers indicating this type can be changed to some concrete type.</p><p>Let’s convert the <code class="language-plaintext highlighter-rouge">timestampz</code>.</p><hr /><h2 id="how-do-i-translate-timestamp-to-date-object-">How do I translate <code class="language-plaintext highlighter-rouge">timestamp</code> to Date object? <a name="implementation"></a></h2><p>To convert the <code class="language-plaintext highlighter-rouge">timestampz</code> to Date, we need both compiler and apollo client to work together. Solution consist of three parts.</p><ol><li><p>Choosing concrete type for custom scalar</p><li><p>Mapping it in code-gen</p><li><p>Attaching adapter to the apollo client</p></ol><h3 id="1-choosing-concrete-type-for-custom-scalar---threetenbp-lib">1. Choosing concrete type for custom scalar - [threetenbp lib]</h3><p>My choice of DateTime library here is <code class="language-plaintext highlighter-rouge">threetenbp</code>. This ports Java SE 8 LocalDateTime classes to java 6 and 7. My initial feasibility check with <code class="language-plaintext highlighter-rouge">kotlinx-datetime</code> results didn’t look so good as custom formatting of date time is not supported yet.</p><p>Add this gradle dependency to your app module.</p><div class="language-groovy highlighter-rouge"><div class="code-header"> <span text-data=" Groovy "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="c1">// File: "app/build.gradle"</span>

<span class="c1">// https://mvnrepository.com/artifact/org.threeten/threetenbp</span>
<span class="n">implementation</span> <span class="s2">"org.threeten:threetenbp:1.5.1"</span>

</pre></table></code></div></div><h3 id="2-code-gen-changes---apollo-compile-time-setup-to-map-timestamp">2. Code-gen changes - Apollo compile time setup to map timestamp</h3><p>Compile time setup is rather simple. We have to map the fully qualified target class name against our custom scalar. This is enough to convert our scalar to LocalDateTime.</p><div class="language-groovy highlighter-rouge"><div class="code-header"> <span text-data=" Groovy "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="c1">// File: "app/build.gradle"</span>

<span class="n">apollo</span> <span class="o">{</span>
    <span class="n">generateKotlinModels</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span>
    <span class="n">customTypeMapping</span> <span class="o">=</span> <span class="o">[</span>
            <span class="s2">"timestamptz"</span> <span class="o">:</span> <span class="s2">"org.threeten.bp.LocalDateTime"</span>
    <span class="o">]</span>
<span class="o">}</span>

<span class="n">dependencies</span> <span class="o">{</span>
<span class="o">...</span>
</pre></table></code></div></div><p>A peek through updated <code class="language-plaintext highlighter-rouge">CustomType</code> enum changes.</p><div class="language-diff highlighter-rouge"><div class="code-header"> <span text-data=" Diff "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>   TIMESTAMPTZ {
     override fun typeName(): String = "timestamptz"
 
<span class="gd">-    override fun className(): String = "kotlin.Any"
</span><span class="gi">+    override fun className(): String = "org.threeten.bp.LocalDateTime"
</span></pre></table></code></div></div><p>And in <code class="language-plaintext highlighter-rouge">Expense</code> class, the field type and deserializer changed.</p><div class="language-diff highlighter-rouge"><div class="code-header"> <span text-data=" Diff "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre><span class="gd">--- 
</span><span class="gi">+++ 
</span><span class="p">import org.threeten.bp.LocalDateTime
</span>
@@ -1,13 +1,13 @@
 data class Expense(
     val __typename: String = "expenses",
     val id: Int,
     val amount: Int,
     val remarks: String,
     val is_income: Boolean,
<span class="gd">-    val created_at: Any
</span><span class="gi">+    val created_at: LocalDateTime // Now it's concrete
</span>   ) {

         // Field deserialization - now takes LocalDateTime
         // instead of Any
<span class="gd">-        val created_at = readCustomType&lt;Any&gt;(RESPONSE_FIELDS[5] as
</span><span class="gi">+        val created_at = readCustomType&lt;LocalDateTime&gt;(RESPONSE_FIELDS[5] as
</span>             ResponseField.CustomTypeField)!!
</pre></table></code></div></div><p>Now we have the type changed in generated classes. Yet, at runtime apollo doesn’t know how to create a <code class="language-plaintext highlighter-rouge">LocalDateTime</code> object from a <code class="language-plaintext highlighter-rouge">timestamptz</code>. Let’s provide the adapter in next step.</p><h3 id="3-apollo-runtime-setup-for-parsing-date">3. Apollo runtime setup for parsing date</h3><p>This step is to convert string to Date and vice-verse. Threetenbp has <code class="language-plaintext highlighter-rouge">DateTimeFormatter</code> formatter class for this purpose. Let’s have a look at our sample date-time from our backend</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>
2021-05-13T04:00:49.815194+00:00

</pre></table></code></div></div><p>This is of pattern <code class="language-plaintext highlighter-rouge">yyyy-MM-dd'T'HH:mm:ss.SSSSSSz</code>. Let’s create a formatter for this.</p><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span text-data=" Kotlin "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>
<span class="kd">val</span> <span class="py">formatter</span> <span class="p">=</span> <span class="nc">DateTimeFormatter</span><span class="p">.</span><span class="nf">ofPattern</span><span class="p">(</span><span class="s">"yyyy-MM-dd'T'HH:mm:ss.SSSSSSz"</span><span class="p">)</span>

</pre></table></code></div></div><p>Now we create <code class="language-plaintext highlighter-rouge">CustomTypeAdapter</code> object to attach with apollo client. It has <code class="language-plaintext highlighter-rouge">decode</code> - <code class="language-plaintext highlighter-rouge">encode</code> functions to carry out the conversions. Using the above formatter, we can create an adapter like this,</p><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span text-data=" Kotlin "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="cm">/**
 * Timestamp delivered as string from API. This adapter takes care of encode / decode the same.
 */</span>
<span class="k">private</span> <span class="kd">val</span> <span class="py">timeStampAdapter</span> <span class="p">=</span> <span class="kd">object</span> <span class="err">: </span><span class="nc">CustomTypeAdapter</span><span class="p">&lt;</span><span class="nc">LocalDateTime</span><span class="p">&gt;</span> <span class="p">{</span>

    <span class="k">private</span> <span class="kd">val</span> <span class="py">formatter</span> <span class="p">=</span> <span class="nc">DateTimeFormatter</span><span class="p">.</span><span class="nf">ofPattern</span><span class="p">(</span><span class="s">"yyyy-MM-dd'T'HH:mm:ss.SSSSSSz"</span><span class="p">)</span>

    <span class="k">override</span> <span class="k">fun</span> <span class="nf">decode</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="nc">CustomTypeValue</span><span class="p">&lt;</span><span class="err">*</span><span class="p">&gt;):</span> <span class="nc">LocalDateTime</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">try</span> <span class="p">{</span>
            <span class="nc">LocalDateTime</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">value</span><span class="p">.</span><span class="n">value</span><span class="p">.</span><span class="nf">toString</span><span class="p">(),</span> <span class="n">formatter</span><span class="p">)</span>
        <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">e</span><span class="p">:</span> <span class="nc">Exception</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="nc">RuntimeException</span><span class="p">(</span><span class="s">"Cannot parse date: ${value.value}"</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">override</span> <span class="k">fun</span> <span class="nf">encode</span><span class="p">(</span><span class="n">value</span><span class="p">:</span> <span class="nc">LocalDateTime</span><span class="p">):</span> <span class="nc">CustomTypeValue</span><span class="p">&lt;</span><span class="err">*</span><span class="p">&gt;</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">try</span> <span class="p">{</span>
            <span class="nc">CustomTypeValue</span><span class="p">.</span><span class="nc">GraphQLString</span><span class="p">(</span><span class="n">formatter</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
        <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="n">e</span><span class="p">:</span> <span class="nc">Exception</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="nc">RuntimeException</span><span class="p">(</span><span class="s">"Cannot serialize  the date date: ${value}"</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p>Now map the adapter to the enum through <code class="language-plaintext highlighter-rouge">ApolloClient.Builder</code>.</p><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span text-data=" Kotlin "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre>
<span class="kd">val</span> <span class="py">apolloClient</span> <span class="p">=</span> <span class="nc">ApolloClient</span>
        <span class="p">.</span><span class="nf">builder</span><span class="p">()</span>
        <span class="p">.</span><span class="nf">serverUrl</span><span class="p">(</span><span class="s">"// url //"</span><span class="p">)</span>
        <span class="p">.</span><span class="nf">addCustomTypeAdapter</span><span class="p">(</span><span class="nc">CustomType</span><span class="p">.</span><span class="nc">TIMESTAMPTZ</span><span class="p">,</span> <span class="n">timeStampAdapter</span><span class="p">)</span>
        <span class="p">.</span><span class="nf">build</span><span class="p">()</span>

</pre></table></code></div></div><p>That’s it!! Now ApolloClient knows timestamp is LocalDateTime and we get a solid generated class to use in domain layer.</p><h2 id="gist">Gist</h2><p>Overall changes for the implementation is available as <a href="https://gist.github.com/mahendranv/2fda2eb9ddba242a78ff675ba9b0cda4">gist</a></p><hr /><h2 id="endnote">Endnote</h2><p>Now we’ve seen how to write adapters for a scalar, you might be in urge to create adapters for Enums. Don’t do it. Push it back to the backend and ask them to define it in schema. Apollo can generate enums if it is defined properly.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/android/'>Android</a>, <a href='/categories/apollo-graphql/'>Apollo—GraphQL</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/android/" class="post-tag no-text-decoration" >android</a> <a href="/tags/kotlin/" class="post-tag no-text-decoration" >kotlin</a> <a href="/tags/graphql/" class="post-tag no-text-decoration" >graphql</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Get productive with GraphQL — Type Adapters - Mahendran&url=https://mahendranv.github.io/posts/graphql-date-conversion/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Get productive with GraphQL — Type Adapters - Mahendran&u=https://mahendranv.github.io/posts/graphql-date-conversion/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Get productive with GraphQL — Type Adapters - Mahendran&url=https://mahendranv.github.io/posts/graphql-date-conversion/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/viewmodel-store/">Android — ViewModel factory and instantiation</a><li><a href="/posts/compose-shapes-gists/">I created few shapes in Jetpack compose / Gist included</a><li><a href="/posts/compose-shapes/">Jetpack compose - shape your views</a><li><a href="/posts/timer/">Android — Implementing LifecycleAwareTimer</a><li><a href="/posts/bon-apetit/">Hackerrank - bon-appetit problem solution in Kotlin</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/android/">android</a> <a class="post-tag" href="/tags/kotlin/">kotlin</a> <a class="post-tag" href="/tags/graphql/">graphql</a> <a class="post-tag" href="/tags/springboot/">springboot</a> <a class="post-tag" href="/tags/compose/">compose</a> <a class="post-tag" href="/tags/coding/">coding</a> <a class="post-tag" href="/tags/dribbble/">dribbble</a> <a class="post-tag" href="/tags/tools/">tools</a> <a class="post-tag" href="/tags/beginners/">beginners</a> <a class="post-tag" href="/tags/blog/">blog</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/kotlin-safe-cast/"><div class="card-body"> <span class="timeago small" >Apr 14<i class="unloaded">2021-04-14T00:00:00+05:30</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Kotlin safe casting</h3><div class="text-muted small"><p> In multiple cases you might’ve came across the situation where you have to cast a global variable and check the instance beforehand. A most common case in Android environment is to check whether...</p></div></div></a></div><div class="card"> <a href="/posts/kotlin-value-class/"><div class="card-body"> <span class="timeago small" >May 1<i class="unloaded">2021-05-01T00:00:00+05:30</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Kotlin value class</h3><div class="text-muted small"><p> Kotlin’s data class is a fan favorite when it comes to storing any model. Bundled with bunch of necessary methods, devs get a lot while writing way less. From Kotlin 1.5 — we have value class-s. L...</p></div></div></a></div><div class="card"> <a href="/posts/gql-simple-backend/"><div class="card-body"> <span class="timeago small" >May 17<i class="unloaded">2021-05-17T00:00:00+05:30</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>GraphQL - simple backend server - SpringBoot application</h3><div class="text-muted small"><p> In this post, I’ll cover how to create a simple GraphQL server with Springboot and Netflix DGS. DGS is chosen because you start with GraphQL schema and then build server side logic around it. P...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/weather-card-compose/" class="btn btn-outline-primary" prompt="Older"><p>Weather forecast card design using Jetpack Compose</p></a> <a href="/posts/gql-simple-backend/" class="btn btn-outline-primary" prompt="Newer"><p>GraphQL - simple backend server - SpringBoot application</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/mahevelai">Mahendran Vadivalagan</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/android/">android</a> <a class="post-tag" href="/tags/kotlin/">kotlin</a> <a class="post-tag" href="/tags/graphql/">graphql</a> <a class="post-tag" href="/tags/springboot/">springboot</a> <a class="post-tag" href="/tags/compose/">compose</a> <a class="post-tag" href="/tags/coding/">coding</a> <a class="post-tag" href="/tags/dribbble/">dribbble</a> <a class="post-tag" href="/tags/tools/">tools</a> <a class="post-tag" href="/tags/beginners/">beginners</a> <a class="post-tag" href="/tags/blog/">blog</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://mahendranv.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
