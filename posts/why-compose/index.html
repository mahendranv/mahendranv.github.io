<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Why should I go for compose?" /><meta property="og:locale" content="en" /><meta name="description" content="Why should I go for compose. Tools &amp; what Google got this right this time." /><meta property="og:description" content="Why should I go for compose. Tools &amp; what Google got this right this time." /><link rel="canonical" href="https://mahendranv.github.io/posts/why-compose/" /><meta property="og:url" content="https://mahendranv.github.io/posts/why-compose/" /><meta property="og:site_name" content="Mahendran" /><meta property="og:image" content="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/llkri0z57qisq0vpsb0i.jpg" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-05-14T00:00:00+05:30" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/llkri0z57qisq0vpsb0i.jpg" /><meta property="twitter:title" content="Why should I go for compose?" /><meta name="twitter:site" content="@mahevelai" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2021-05-14T00:00:00+05:30","datePublished":"2021-05-14T00:00:00+05:30","description":"Why should I go for compose. Tools &amp; what Google got this right this time.","headline":"Why should I go for compose?","image":"https://dev-to-uploads.s3.amazonaws.com/uploads/articles/llkri0z57qisq0vpsb0i.jpg","mainEntityOfPage":{"@type":"WebPage","@id":"https://mahendranv.github.io/posts/why-compose/"},"url":"https://mahendranv.github.io/posts/why-compose/"}</script><title>Why should I go for compose? | Mahendran</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Mahendran"><meta name="application-name" content="Mahendran"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/614333/01be055d-c668-46ba-8f7b-54065256c70d.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Mahendran</a></div><div class="site-subtitle font-italic">Android | Kotlin | Springboot | DGS</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/series/" class="nav-link"> <i class="fa-fw fas fas fa-list-ol ml-xl-3 mr-xl-3 unloaded"></i> <span>SERIES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/mahendranv" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/mahevelai" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href="https://dev.to/mahendranv" aria-label="dev.to" class="order-5" target="_blank" rel="noopener"> <i class="fab fa-dev"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Why should I go for compose?</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Why should I go for compose?</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Mahendran Vadivalagan </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Fri, May 14, 2021, 12:00 AM +0530" >May 14, 2021<i class="unloaded">2021-05-14T00:00:00+05:30</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1112 words">6 min read</span></div></div><div class="post-content"><p>Way less boilerplate and better tooling. That’s why.</p><hr /><h2 id="whats-wrong-with-the-old-widgets">What’s wrong with the old widgets?</h2><p>The old Android widget is painstakingly (smart!?) enough to has its own state and it is not necessarily in alignment with the viewmodel that represents it. Having references to the view widely encourages devs to <strong>update a view from another view</strong>. This often doesn’t end well.</p><p><strong>Few rare issues that you might’ve faced</strong></p><ol><li><p>Save button disabled even though the correct data present in the input box. To fix it user must delete a character and retype it.</p><li><p>Incorrect tab header selected while the page is different.</p><li><p>Switch/checkbox show in selected state, but it is in off state as per shared preferences. To make it align with the correct state, user must exit from the screen and come back.</p><li><p>User see $0 total for a moment once landed on checkout screen.</p></ol><p>The list goes on..</p><p>With the presence of <code class="language-plaintext highlighter-rouge">ViewModel</code> and <code class="language-plaintext highlighter-rouge">LiveData</code>, when effectively used, solves most of the above issues. Yet, there are two problems there to the core.</p><ol><li>View references that are available to other views<li>Mutable views</ol><p>…</p><h2 id="what-is-compose">What is Compose?</h2><p>Jetpack Compose is a modern UI toolkit for developing android apps. Compared to the native UI where we design in xml and bind using Kotlin/Java, <code class="language-plaintext highlighter-rouge">@Composable</code> functions are used in the toolkit to build UI around given data. Composable functions are dynamic, can bind data naturally and avoids boilerplate from old system.</p><p>…</p><h2 id="why-compose">Why compose?</h2><p>In compose UI kit, there are no referenceable views, a view either present or totally gone (I mean gone from the memory). A view cannot update other view directly — Everything must go through a state variable. **Views are not there for their own sake but to represent data or collect it. ** Putting the data as a main player makes it easy to do validations independent of view and even <a href="https://kotlinlang.org/lp/mobile/">share business logic</a> between different UI clients.</p><h3 id="write-less-do-more">Write less, do more</h3><p>A single Composable function can replace list item xml, view holder, recyclerview adapter and any callback set to propagate item clicks. Same goes for building compound components.</p><p>This is the composable of below counter.</p><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span text-data=" Kotlin "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
</pre><td class="rouge-code"><pre><span class="nd">@Composable</span>
<span class="k">fun</span> <span class="nf">Counter</span><span class="p">()</span> <span class="p">{</span>

    <span class="kd">var</span> <span class="py">count</span> <span class="k">by</span> <span class="nf">remember</span> <span class="p">{</span> <span class="nf">mutableStateOf</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">}</span>

    <span class="nc">Row</span> <span class="p">{</span>
        <span class="nc">Icon</span><span class="p">(</span><span class="nc">Icons</span><span class="p">.</span><span class="nc">Sharp</span><span class="p">.</span><span class="nc">RemoveCircleOutline</span><span class="p">,</span>
            <span class="n">contentDescription</span> <span class="p">=</span> <span class="s">"minus"</span><span class="p">,</span>
            <span class="n">modifier</span> <span class="p">=</span> <span class="nc">Modifier</span>
                <span class="p">.</span><span class="nf">alpha</span><span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="n">count</span> <span class="p">&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="mf">1f</span> <span class="k">else</span> <span class="mf">.4f</span><span class="p">)</span>
                <span class="p">.</span><span class="nf">clickable</span> <span class="p">{</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">count</span> <span class="p">&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
                        <span class="n">count--</span>
                    <span class="p">}</span>
                <span class="p">})</span>

        <span class="nc">Text</span><span class="p">(</span>
            <span class="n">count</span><span class="p">.</span><span class="nf">toString</span><span class="p">(),</span>
            <span class="n">textAlign</span> <span class="p">=</span> <span class="nc">TextAlign</span><span class="p">.</span><span class="nc">Center</span><span class="p">,</span>
            <span class="n">modifier</span> <span class="p">=</span> <span class="nc">Modifier</span>
                <span class="p">.</span><span class="nf">width</span><span class="p">(</span><span class="mi">40</span><span class="p">.</span><span class="n">dp</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="nc">Icon</span><span class="p">(</span><span class="nc">Icons</span><span class="p">.</span><span class="nc">Sharp</span><span class="p">.</span><span class="nc">AddCircleOutline</span><span class="p">,</span>
            <span class="n">contentDescription</span> <span class="p">=</span> <span class="s">"plus"</span><span class="p">,</span>
            <span class="n">modifier</span> <span class="p">=</span> <span class="nc">Modifier</span>
                <span class="p">.</span><span class="nf">alpha</span><span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="n">count</span> <span class="p">&lt;</span> <span class="mi">10</span><span class="p">)</span> <span class="mf">1f</span> <span class="k">else</span> <span class="mf">.4f</span><span class="p">)</span>
                <span class="p">.</span><span class="nf">clickable</span> <span class="p">{</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">count</span> <span class="p">&lt;</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
                        <span class="n">count</span><span class="p">++</span>
                    <span class="p">}</span>
                <span class="p">})</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p>…</p><h3 id="-preview---interact---move-on">🧐 Preview - interact - move on</h3><p>Once you complete a <code class="language-plaintext highlighter-rouge">@Composable</code>, create a mock object (if needed) - feed it to composable through a <code class="language-plaintext highlighter-rouge">@Preview</code> function and interact with it — right inside AndroidStudio!!. Even deploy it to your device.</p><p><img data-proofer-ignore data-src="https://i.imgur.com/FufUeOU.gif" alt="counter" /></p><p>Imagine building a custom/compound component and testing it on device in old UI kit. The whole setup will require a dummy activity, run config changes, no need to say the cleanup afterwards.</p><p>…</p><h3 id="-youre-really-composing-views">🎼 You’re really composing views</h3><ul><li>To add an attribute to a composable: try a modifier or wrap it inside a container and apply modifier to it.<li>Don’t set visibility at all, just don’t attach the view to tree<li>A button with Text and Icon? Composable inside another composable is how you play it here.</ul><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span text-data=" Kotlin "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="nd">@Composable</span>
<span class="k">fun</span> <span class="nf">ShareButton</span><span class="p">()</span> <span class="p">{</span>

    <span class="kd">var</span> <span class="py">showIcon</span> <span class="k">by</span> <span class="nf">remember</span> <span class="p">{</span>
        <span class="nf">mutableStateOf</span><span class="p">(</span><span class="k">false</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="nc">Button</span><span class="p">(</span><span class="n">onClick</span> <span class="p">=</span> <span class="p">{</span> <span class="n">showIcon</span> <span class="p">=</span> <span class="p">!</span><span class="n">showIcon</span> <span class="p">},</span>
        <span class="n">shape</span> <span class="p">=</span> <span class="nc">RoundedCornerShape</span><span class="p">(</span><span class="mi">8</span><span class="p">.</span><span class="n">dp</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">showIcon</span><span class="p">)</span> <span class="p">{</span>
            <span class="nc">Icon</span><span class="p">(</span><span class="nc">Icons</span><span class="p">.</span><span class="nc">Default</span><span class="p">.</span><span class="nc">Share</span><span class="p">,</span> <span class="n">contentDescription</span> <span class="p">=</span> <span class="s">"share"</span> <span class="p">)</span>
            <span class="nc">Spacer</span><span class="p">(</span><span class="nc">Modifier</span><span class="p">.</span><span class="nf">width</span><span class="p">(</span><span class="mi">16</span><span class="p">.</span><span class="n">dp</span><span class="p">))</span>
        <span class="p">}</span>
        <span class="nc">Text</span><span class="p">(</span><span class="n">text</span> <span class="p">=</span> <span class="s">"Share"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p><img data-proofer-ignore data-src="https://i.imgur.com/ABHWVzu.gif" alt="share_btn" /></p><p>…</p><h3 id="-less-error-prone">✨ Less error prone</h3><p>Views are inflated and then manipulated. A mandatory xml attribute might be missing for a custom view resulting in UI error. Composable are functions that reacts to the argument. Like any Kotlin function, nullable, non-nullable, default arguments can be defined here.</p><p>…</p><h3 id="-brick-by-brick">🧱 Brick by brick</h3><p>To keep the codebase clean, you’re forced to split a screen into multiple chunks of composables. So, you design brick by brick.</p><p>Also, it means a fat object from API can be mapped into domain model composed of small chunks to align with independent UI development. So, we define finite set of inputs and UI states per chunk.</p><p>This opens possibilities to reuse the composable in ways that would have been a nightmare before. Let’s say I have a composable that represents, user in a list view — I can plug it inside my user details screen without any hassle.</p><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span text-data=" Kotlin "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre><span class="nd">@Composable</span>
<span class="k">fun</span> <span class="nf">ProfileScreen</span><span class="p">(</span><span class="n">profile</span><span class="p">:</span> <span class="nc">Profile</span><span class="p">)</span> <span class="p">{</span>
  	<span class="nc">Column</span> <span class="p">{</span>
      
      <span class="nc">ProfileListItem</span><span class="p">(</span><span class="n">profile</span><span class="p">.</span><span class="n">general</span><span class="p">)</span>

      <span class="k">if</span> <span class="p">(</span><span class="n">profile</span><span class="p">.</span><span class="n">flairs</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span> <span class="p">{</span>
          <span class="nc">ProfileFlairs</span><span class="p">(</span><span class="n">profile</span><span class="p">.</span><span class="n">flairs</span><span class="p">)</span>
      <span class="p">}</span>

      <span class="nc">ProfileBioContent</span><span class="p">(</span><span class="n">profile</span><span class="p">.</span><span class="n">bio</span><span class="p">)</span>

      <span class="k">if</span> <span class="p">(</span><span class="n">profile</span><span class="p">.</span><span class="n">achievements</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span> <span class="p">{</span>
          <span class="nc">AchievmentListView</span><span class="p">(</span><span class="n">profile</span><span class="p">.</span><span class="n">achievements</span><span class="p">)</span>
      <span class="p">}</span>

      <span class="nc">ProfileWorkExperience</span><span class="p">(</span><span class="n">profile</span><span class="p">.</span><span class="n">workExperience</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p>To achieve the above, we’ll have to create multiple custom views and explicit binding. Now the complete set of inflater, xml &amp; view references and visibility changes are not needed anymore.</p><p>…</p><h3 id="-typography">🇦 Typography</h3><p>Compose supports fontweights, this is something that designers and android devs don’t align with in widget ages. Finally, we’re one step closer to building what is in our mocks — it sounds cool when we speak fontWeight to the designer. We have fontweight from Android 9, <em>released in 2018</em>. But we’re fragmented anyway.</p><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span text-data=" Kotlin "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="nc">Text</span><span class="p">(</span>
    <span class="n">text</span> <span class="p">=</span> <span class="s">"Weight 700"</span><span class="p">,</span>
    <span class="n">fontWeight</span> <span class="p">=</span> <span class="nc">FontWeight</span><span class="p">(</span><span class="mi">700</span><span class="p">)</span>
<span class="p">)</span>
</pre></table></code></div></div><p>Above and this — <a href="https://developer.android.com/jetpack/compose/text#multiple-styles">annotatedString</a></p><p>…</p><h3 id="️-compose-desktop">🖥️ Compose Desktop</h3><p>Compose desktop is a thing now. UI that is built for android should work for desktop as well. I have created separate project for both to play out. But haven’t shared the UI code yet. Even the package name in desktop carries <code class="language-plaintext highlighter-rouge">androidx</code>, let’s see how it goes. Furthermore read <a href="https://github.com/JetBrains/compose-jb/tree/master/tutorials/Getting_Started">here</a>.</p><p><img data-proofer-ignore data-src="https://i.imgur.com/LTxpGiF.gif" alt="dt_todo2" /></p><h3 id="but-compose-destroys-views-on-each-event-resulting-in-overhead-">But compose destroys views on each event resulting in overhead 🤫</h3><p>No… composable functions are smart enough to patch update only the dirty portions. This is called recomposition. Recomposition is set to skip as many composables possible on each pass. Read more about this <a href="https://developer.android.com/jetpack/compose/mental-model#recomposition">here</a>.</p><hr /><h2 id="endnote">Endnote:</h2><p>Above is purely my opinion about composable. Just sharing it here hoping fellow devs would add pro-cons. Developing native Android apps over years and felt painful some aspects of Native UI, trying Compose is very refreshing. For an analogy, this is like dealing with java and NPE for eternity and starting with Kotlin. (Also, I forgot, java mandates try-catch blocks and the semicolon).</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/android/'>Android</a>, <a href='/categories/compose/'>Compose</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/android/" class="post-tag no-text-decoration" >android</a> <a href="/tags/compose/" class="post-tag no-text-decoration" >compose</a> <a href="/tags/kotlin/" class="post-tag no-text-decoration" >kotlin</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Why should I go for compose? - Mahendran&url=https://mahendranv.github.io/posts/why-compose/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Why should I go for compose? - Mahendran&u=https://mahendranv.github.io/posts/why-compose/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Why should I go for compose? - Mahendran&url=https://mahendranv.github.io/posts/why-compose/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/hilt-instrument/">Android — Instrumentation test with hilt</a><li><a href="/posts/hilt-codegen/">Smoke, mirrors & HiltViewModel</a><li><a href="/posts/hilt-viewmodel/">Android — Basic Hilt setup with viewmodel + fragment</a><li><a href="/posts/viewmodel-store/">Android — ViewModel factory and instantiation</a><li><a href="/posts/compose-shapes-gists/">I created few shapes in Jetpack compose / Gist included</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/android/">android</a> <a class="post-tag" href="/tags/kotlin/">kotlin</a> <a class="post-tag" href="/tags/graphql/">graphql</a> <a class="post-tag" href="/tags/springboot/">springboot</a> <a class="post-tag" href="/tags/compose/">compose</a> <a class="post-tag" href="/tags/coding/">coding</a> <a class="post-tag" href="/tags/hilt/">hilt</a> <a class="post-tag" href="/tags/dagger/">dagger</a> <a class="post-tag" href="/tags/dribbble/">dribbble</a> <a class="post-tag" href="/tags/tools/">tools</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/compose-shapes/"><div class="card-body"> <span class="timeago small" >Jun 23, 2021<i class="unloaded">2021-06-23T00:00:00+05:30</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Jetpack compose - shape your views</h3><div class="text-muted small"><p> Jetpack compose has an elegant way to cut out a Compose view into the desired shape. I’m covering few shapes that are available in the core compose lib and where do they differ. All the shapes dis...</p></div></div></a></div><div class="card"> <a href="/posts/compose-shapes-gists/"><div class="card-body"> <span class="timeago small" >Jul 9, 2021<i class="unloaded">2021-07-09T00:00:00+05:30</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>I created few shapes in Jetpack compose / Gist included</h3><div class="text-muted small"><p> Sharing few of my jetpack-compose shapes here. Did path tracing and drew path on canvas. Heart 🚀 - Gist Tag 🚀 - Gist Polygons 🚀 - Gist Car 🚀 - Gist 👷 Tool set Figma fo...</p></div></div></a></div><div class="card"> <a href="/posts/compose-bottom-bar/"><div class="card-body"> <span class="timeago small" >Jul 30, 2021<i class="unloaded">2021-07-30T00:00:00+05:30</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Designing a bottom navigation bar with Jetpack compose</h3><div class="text-muted small"><p> Intro This article covers the design aspect of the bottom navigation bar using Jetpack compose. We’re looking at a simple composable with few customizable params for the icons. Take this as an app...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/compose-dropdown/" class="btn btn-outline-primary" prompt="Older"><p>Jetpack compose — DropdownMenu — Weather UI</p></a> <a href="/posts/weather-card-compose/" class="btn btn-outline-primary" prompt="Newer"><p>Weather forecast card design using Jetpack Compose</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://twitter.com/mahevelai">Mahendran Vadivalagan</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/android/">android</a> <a class="post-tag" href="/tags/kotlin/">kotlin</a> <a class="post-tag" href="/tags/graphql/">graphql</a> <a class="post-tag" href="/tags/springboot/">springboot</a> <a class="post-tag" href="/tags/compose/">compose</a> <a class="post-tag" href="/tags/coding/">coding</a> <a class="post-tag" href="/tags/hilt/">hilt</a> <a class="post-tag" href="/tags/dagger/">dagger</a> <a class="post-tag" href="/tags/dribbble/">dribbble</a> <a class="post-tag" href="/tags/tools/">tools</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://mahendranv.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
